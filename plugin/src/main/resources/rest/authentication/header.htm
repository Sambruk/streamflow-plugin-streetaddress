<!--

    Copyright 2011 Streamsource AB. All Rights Reserved by Streamsource AB.

    The content of this file is property of Streamsource AB, org no 556777-9896, with the address
    Hans Michelsensgatan 9, SE-211 20 MalmÃ¶, Sweden. Any unauthorized review, use, disclosure
    or distribution is prohibited.

-->
<script type="text/javascript">

function addAuthenticatePlugins(node) {

#if ($request.getClientInfo().getAgentName().contains("MSIE"))
	if (isPluginInstalled("Nexus.AuthenticationCtl"))
		node.append('<object  name="auth" classid="CLSID:DD137900-E4D7-4b86-92CC-2E968F846047" width="0" height="0"></object>');
#else
	if (isPluginInstalled("application/x-personal-authentication"))
		node.append('<object id="auth" type="application/x-personal-authentication" width="0" height="0"></object>');
#end
}  

#if ($request.getClientInfo().getAgentName().contains("MSIE"))
	
	function isPluginInstalled(name){
		try {
			var xObj = new ActiveXObject(name);
			if(xObj) {
				return true;
			}
		} catch (e) {
			return false;;
		}
	}
#else
	function isPluginInstalled(name){
		if(navigator.plugins) {
			if (navigator.plugins.length > 0) {
				if (navigator.mimeTypes && navigator.mimeTypes[name]) {
					if (navigator.mimeTypes[name].enabledPlugin){
						return true;
					}
				}
			}
		}
		return false;
	}
#end



</script>